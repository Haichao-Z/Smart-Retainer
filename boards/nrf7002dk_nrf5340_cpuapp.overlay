// &i2c1 {
//     compatible = "nordic,nrf-twim";
//     status = "okay";
//     clock-frequency = <I2C_BITRATE_FAST>;
    
//     bme280: bme280@77 {
//         compatible = "bosch,bme280";
//         reg = <0x77>;
//         status = "okay";
//     };
// };

// / {
//     aliases {
//         led5180 = &led1;
//         button5180 = &button1;
//     };
// };

// &i2c1 {
//     compatible = "nordic,nrf-twim";
//     status = "okay";
//     clock-frequency = <I2C_BITRATE_FAST>;
//     pinctrl-0 = <&i2c1_default>;
// 	pinctrl-1 = <&i2c1_sleep>;
//     pinctrl-names = "default", "sleep";
    
//     bme280: bme280@77 {
//         compatible = "bosch,bme280";
//         reg = <0x77>;
//         status = "okay";
//     };
// };

// &pinctrl {
// 	/omit-if-no-ref/ i2c1_default: i2c1_default {
// 		group1  {
// 			psels = <NRF_PSEL(TWIM_SCL, 1, 14)>,
// 					<NRF_PSEL(TWIM_SDA, 1, 15)>;
// 		};
// 	};

// 	/omit-if-no-ref/ i2c1_sleep: i2c1_sleep {
// 		group1  {
// 			psels = <NRF_PSEL(TWIM_SCL, 1, 14)>,
// 					<NRF_PSEL(TWIM_SDA, 1, 15)>;
// 			low-power-enable;
// 		};
// 	};
// };

/*
 * Device Tree Overlay for nRF7002 DK
 * LSM6DS0 IMU connected via I2C
 */

/*
 * Device Tree Overlay for nRF7002 DK
 * LSM6DSO IMU connected via I2C
 */

&i2c1 {
    compatible = "nordic,nrf-twim";
    status = "okay";
    clock-frequency = <I2C_BITRATE_FAST>; /* 400 kHz */

    lsm6dso: lsm6dso@6b {
        compatible = "st,lsm6dso";
        reg = <0x6b>;
        status = "okay";
        
        /* Accelerometer configuration */
        /* ODR values: 0=PowerDown, 1=12.5Hz, 2=26Hz, 3=52Hz, 4=104Hz, 
                       5=208Hz, 6=417Hz, 7=833Hz, 8=1667Hz, 9=3333Hz, 10=6667Hz */
        accel-odr = <4>;      /* 104 Hz */
        accel-range = <0>;    /* 0=±2g, 1=±4g, 2=±8g, 3=±16g */
        
        /* Gyroscope configuration */
        /* ODR values: same as accel */
        gyro-odr = <4>;       /* 104 Hz */
        gyro-range = <0>;     /* 0=±250dps, 1=±500dps, 2=±1000dps, 3=±2000dps */
        
    };
};

&pinctrl {
    i2c1_default: i2c1_default {
        group1 {
            psels = <NRF_PSEL(TWIM_SDA, 1, 2)>,
                    <NRF_PSEL(TWIM_SCL, 1, 3)>;
            bias-pull-up;
        };
    };

    i2c1_sleep: i2c1_sleep {
        group1 {
            psels = <NRF_PSEL(TWIM_SDA, 1, 2)>,
                    <NRF_PSEL(TWIM_SCL, 1, 3)>;
            low-power-enable;
        };
    };
};

